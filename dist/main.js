(()=>{"use strict";const e=e=>{const t=[];t.length=e;const a=e=>"X"===e;return{arr:t,isSunk:()=>{t.every(a)&&console.log("sunk")},hit:e=>t[e-1]="X"}},t=document.getElementById("start");let a="";function n(e){for(let t=0;t<10;t++)for(let a=0;a<10;a++)if(""!=e[t][a]){const e=document.getElementById(`${t}${a}`);e.classList.remove(".grid-cell"),e.classList.add("grid-cell-with-ship")}}t.addEventListener("click",(()=>{const e=document.querySelector(".game-info");e.textContent="Player, place your ships";const t=document.createElement("button"),n=document.createElement("button");t.textContent="Vertical",n.textContent="Horizontal",e.appendChild(t),e.appendChild(n),t.addEventListener("click",(()=>{a="vert"})),n.addEventListener("click",(()=>{a="hori"}))}));const r=(()=>{const e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],t=e=>"S"==e;return{grid:e,placeShip:function(n,r,s,c){if("hori"==a){let a=[];for(let t=0;t<s;t++)a.push(e[r][n+t]);if(a.some(t))return;if(null!=e[r][n+(s-1)])for(let t=0;t<s;t++)e[r][n+t]=c}else if("vert"==a){let a=[];for(let t=0;t<s;t++)a.push(e[r+t][n]);if(a.some(t))return;if(null!=e[r+(s-1)][n])for(let t=0;t<s;t++)e[r+t][n]=c}},receiveAttack:function(t,a,n){e[a][t]?n.hit():e[a][t]="O"},shipsSunk:function(){e.some(t)||console.log("game over")}}})(),s=e(5),c=e(4),l=e(3),d=e(3),i=e(2);let o=0;!function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){const a=document.getElementById("computer-grid"),n=document.createElement("div");n.classList.add("grid-cell"),n.dataset.y=e,n.dataset.x=t,a.appendChild(n)}}(),function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){const a=document.getElementById("player-grid"),n=document.createElement("div");n.classList.add("grid-cell"),n.dataset.y=e,n.dataset.x=t,n.id=`${e}${t}`,a.appendChild(n)}}(),document.querySelectorAll(".grid-cell").forEach((e=>{e.addEventListener("click",(()=>{switch(o){case 0:r.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),5,s),n(r.grid),o+=1;break;case 1:r.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),4,c),n(r.grid),o+=1;break;case 2:r.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),3,l),n(r.grid),o+=1;break;case 3:r.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),3,d),n(r.grid),o+=1;break;case 4:r.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),2,i),n(r.grid),o+=1;break;case 5:return}}))}))})();