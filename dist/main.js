(()=>{"use strict";const e=document.getElementById("start");let t="";e.addEventListener("click",(()=>{const e=document.querySelector(".game-info");e.textContent="Player, place your ships";const n=document.createElement("button"),l=document.createElement("button");n.textContent="Vertical",l.textContent="Horizontal",e.appendChild(n),e.appendChild(l),n.addEventListener("click",(()=>{t="vert"})),l.addEventListener("click",(()=>{t="hori"}))}));const n=(()=>{const e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],t=e=>"S"==e;return{grid:e,placeShip:function(n,l,c,o){if("hori"==o){let o=[];for(let t=0;t<c;t++)o.push(e[l][n+t]);if(o.some(t))return;if(null!=e[l][n+(c-1)])for(let t=0;t<c;t++)e[l][n+t]="S"}else if("vert"==o){let o=[];for(let t=0;t<c;t++)o.push(e[l+t][n]);if(o.some(t))return;if(null!=e[l+(c-1)][n])for(let t=0;t<c;t++)e[l+t][n]="S"}},receiveAttack:function(t,n,l){e[n][t]?l.hit():e[n][t]="O"},shipsSunk:function(){e.some(t)||console.log("game over")}}})();!function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){const n=document.getElementById("computer-grid"),l=document.createElement("div");l.classList.add("grid-cell"),l.dataset.y=e,l.dataset.x=t,n.appendChild(l)}}(),function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){const n=document.getElementById("player-grid"),l=document.createElement("div");l.classList.add("grid-cell"),l.dataset.y=e,l.dataset.x=t,l.id=`${e}${t}`,n.appendChild(l)}}(),document.querySelectorAll(".grid-cell").forEach((e=>{e.addEventListener("click",(()=>{n.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),5,t),function(e){for(let t=0;t<10;t++)for(let n=0;n<10;n++)if("S"==e[t][n]){const e=document.getElementById(`${t}${n}`);e.classList.remove(".grid-cell"),e.classList.add("grid-cell-with-ship")}}(n.grid)}))}))})();