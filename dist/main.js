(()=>{"use strict";const e=e=>{const t=[];t.length=e;const a=e=>"X"===e;return{arr:t,isSunk:()=>{t.every(a)&&console.log("sunk")},hit:e=>t[e-1]="X"}},t=document.getElementById("start");let a="hori";function r(e){for(let t=0;t<10;t++)for(let a=0;a<10;a++)if(""!=e[t][a]){const e=document.getElementById(`${t}${a}`);e.classList.remove(".player-grid-cell"),e.classList.add("grid-cell-with-ship")}}t.addEventListener("click",(()=>{const e=document.querySelector(".game-info");e.textContent="Player, place your ships";const t=document.createElement("button"),r=document.createElement("button");t.textContent="Vertical",r.textContent="Horizontal",e.appendChild(t),e.appendChild(r),t.addEventListener("click",(()=>{a="vert"})),r.addEventListener("click",(()=>{a="hori"}))}));const n=(()=>{const e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],t=e=>""!=e;return{grid:e,placeShip:function(r,n,s,d){if("hori"==a){let a=[];for(let t=0;t<s;t++)a.push(e[n][r+t]);if(a.some(t))return;if(null!=e[n][r+(s-1)])for(let t=0;t<s;t++)e[n][r+t]=d}else if("vert"==a){let a=[];for(let t=0;t<s;t++)a.push(e[n+t][r]);if(a.some(t))return;if(null!=e[n+(s-1)][r])for(let t=0;t<s;t++)e[n+t][r]=d}},receiveAttack:function(t,a,r){e[a][t]?r.hit():e[a][t]="O"},shipsSunk:function(){e.some(t)||console.log("game over")}}})(),s=e(5),d=(e(5),e(4)),c=(e(4),e(3)),i=(e(3),e(3)),l=(e(3),e(2));e(2),function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){const a=document.getElementById("computer-grid"),r=document.createElement("div");r.classList.add("computer-grid-cell"),r.dataset.y=e,r.dataset.x=t,a.appendChild(r)}}(),function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){const a=document.getElementById("player-grid"),r=document.createElement("div");r.classList.add("player-grid-cell"),r.dataset.y=e,r.dataset.x=t,r.id=`${e}${t}`,a.appendChild(r)}}();let o=0;document.querySelectorAll(".player-grid-cell").forEach((e=>{e.addEventListener("click",(()=>{switch(o){case 0:n.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),5,s),r(n.grid),n.grid[parseInt(e.dataset.y)][parseInt(e.dataset.x)]==s&&(o+=1);break;case 1:n.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),4,d),r(n.grid),n.grid[parseInt(e.dataset.y)][parseInt(e.dataset.x)]==d&&(o+=1);break;case 2:n.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),3,c),r(n.grid),n.grid[parseInt(e.dataset.y)][parseInt(e.dataset.x)]==c&&(o+=1);break;case 3:n.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),3,i),r(n.grid),n.grid[parseInt(e.dataset.y)][parseInt(e.dataset.x)]==i&&(o+=1);break;case 4:n.placeShip(parseInt(e.dataset.x),parseInt(e.dataset.y),2,l),r(n.grid),n.grid[parseInt(e.dataset.y)][parseInt(e.dataset.x)]==l&&(o+=1);break;case 5:return}}))}))})();